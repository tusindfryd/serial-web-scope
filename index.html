<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Serial Web Scope</title>
    <meta name="description" content=" " />
    <link rel="stylesheet" href="styles.css" />
    <link href="" rel="icon" type="image/x-icon" />
  </head>

  <body class="dark-theme">
    <nav>
      <div>
        <input type="number" id="baudRate" name="baudRate" value="115200" />
        <label for="baudRate" title="Specify the baud rate">Baud rate:</label>
      </div>
      <div>
        <input type="number" id="windowWidth" name="windowWidth" value="200" />
        <label for="windowWidth" title="Number of displayed data points">Data window width:</label>
      </div>
      <div>
        <fieldset>
          <legend>Line endings:</legend>
          <div>
            <input type="radio" id="rn" name="lineEndings" value="rn" checked />
            <label for="rn" title="CRLF end of line sequence">\r\n</label>
          </div>
          <div>
            <input type="radio" id="n" name="lineEndings" value="n" />
            <label for="n" title="LF end of line sequence">\n</label>
          </div>
        </fieldset>

        <fieldset>
          <legend>Data format:</legend>
          <div>
            <input
              type="radio"
              id="json"
              name="dataFormat"
              value="json"
              checked
            />
            <label
              for="json"
              title='e.g. { "Channel 1": 0.1, "Channel 2": 0.2 }'
              >JSON</label
            >
          </div>
          <div>
            <input type="radio" id="csv" name="dataFormat" value="csv" />
            <label for="csv" title="e.g. 0.1, 0.2"
              >Comma Separated Values</label
            >
          </div>
        </fieldset>
      </div>

      <button
        id="connect"
        onclick="typeof connectDevice === 'function' ? connectDevice() : null"
      >
        Connect through serial port
      </button>
    </nav>
    <div id="wrapper">
      <div id="overlay">
        <img src="usb.svg" />
      </div>
      <canvas id="scope"></canvas>
      <div id="output"></div>
    </div>
  </body>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.1.1"></script>
  <script src="main.js"></script>
</html>
